import{j as e,u as f,r as n,T as u,M as x,L as g,E as p}from"./index-188f43fe.js";import{R as h,L as j,a as b}from"./login-e1cc356c.js";import{I as w}from"./input-76b1408b.js";import{S as m}from"./sweetalert2.esm.all-509645c6.js";import{a as v}from"./axios-7a713374.js";function N({type:o,label:s,onChange:t,value:a}){return e.jsxs("div",{className:" w-full grid grid-cols-5 sm:flex sm:flex-col items-center sm:items-start  gap-4 sm:gap-2",children:[e.jsx("p",{className:" col-span-1 text-foreground font-gmedium text-sm ",children:s}),e.jsx(w,{className:" col-span-4 text-foreground outline-none font-gmedium",value:a,type:o,onChange:t,placeholder:s})]})}function R(){const o=f(),[s,t]=n.useState({email:"",password:""}),[a,r]=n.useState(!1);n.useEffect(()=>{localStorage.getItem("accessToken")&&o("/admin/home")},[]);const c=async l=>{l.preventDefault(),r(!0);const d=setTimeout(()=>r(!1),6e3);try{await v.post("users/reset_password/",s),clearTimeout(d),m.fire({icon:"success",title:"We sent something to your email successfully.",showConfirmButton:!1,timer:2e3}),t({email:"",password:""})}catch(i){console.log(i.response.data.non_field_errors[0]),m.fire({icon:"error",title:"Oops...",text:i.response.data.non_field_errors[0],showConfirmButton:!1})}finally{r(!1)}};return e.jsx(u,{defaultTheme:"system",storageKey:"vite-ui-theme",children:e.jsxs("div",{className:"bg-background relative w-screen h-screen overflow-hidden flex justify-center",children:[e.jsx("div",{className:"absolute right-0 p-10 z-30",children:e.jsx(x,{})}),e.jsxs("div",{className:"relative w-full h-full flex flex-col gap-4 items-center justify-center",children:[e.jsx("img",{src:h,className:"pointer-events-none bg-white absolute z-0 h-full w-full object-cover opacity-5",alt:""}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:g,className:"animate__animated animate__slideInLeft h-16 object-contain",alt:""}),e.jsx("a",{href:"https://www.facebook.com/DICTRegion10",target:"_blank",children:e.jsx("img",{src:j,className:"animate__animated animate__slideInRight h-24 object-contain",alt:""})})]}),e.jsxs("form",{className:"animate__animated animate__fadeInUp mb-10 z-10 w-full sm:w-[95%] sm:mx-4 max-w-[450px] flex flex-col items-center min-h-[100px] py-10 px-6 rounded-md bg-card border-2 border-border",onSubmit:c,children:[e.jsx("div",{className:"w-[95%] h-16 flex",children:e.jsx("h1",{className:"text-foreground text-3xl font-bold",children:"Reset Password"})}),e.jsxs("div",{className:"flex flex-col gap-4 w-[85%]",children:[e.jsx(N,{label:"Email",value:s.email,onChange:l=>t({...s,email:l.target.value}),type:"email"}),e.jsx(p,{to:"/login",className:"text-foreground font-semibold text-sm cursor-pointer self-end pt-2 pb-6 hover:underline",children:"Already remember it? Back to Login"}),e.jsx("button",{className:"btn-donate",type:"submit",disabled:a,children:a?e.jsxs("div",{className:"flex gap-2 justify-center items-center",children:["Sending",e.jsx(b,{className:"loader animate-spin"})]}):"Reset Password"})]})]})]}),e.jsx("p",{className:"absolute text-foreground bottom-0 z-20 self-center pb-4 hover:underline cursor-pointer text-sm",children:"Developed by: DICT Region 10"})]})})}export{R as default};
